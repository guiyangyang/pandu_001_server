(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-d886"],{"+684":function(t,e,a){},"2wpo":function(t,e,a){"use strict";a.r(e);a("vDqi");var s=a("t3Un");var i=a("ybcg"),n={name:"BooksVue",data:function(){return{dialogVisible:!1,dialogDetail:!1,getBookList:{},bookLists:[],param:{pagenum:1,pagesize:12,searchType:"literature",searchContent:""},currentPage:1,total:100,latestShareList:[],shareRankList:[],radio1:""}},computed:{},filters:{dateToFormatter:function(t){return Object(i.a)(t)}},mounted:function(){this.getEpubLists(),this.getLatestShareList(),this.getShareRankList()},methods:{getBook:function(t){var e=this.bookLists[t].id+".epub";this.$router.push({path:"/read/openRead",query:{id:e}})},getEpubLists:function(){var t=this;(function(t){return Object(s.a)({url:"/epubs/getEpubs",method:"post",data:t})})(this.param).then(function(e){"200000"==e.status&&(t.bookLists=e.result.docs,t.bookLists.forEach(function(t,e){""!=t.img&&void 0!=t.img||(t.img="jd.jpg")}),t.total=e.result.total),"200004"==e.status&&t.$message({message:"暂无数据，请稍后再试！",type:"success"})}).catch(function(t){console.log("err")})},getLatestShareList:function(){var t=this;(function(t){return Object(s.a)({url:"/epubs/getLatestShare",method:"post",data:t})})({size:10}).then(function(e){"200000"==e.status&&(t.latestShareList=e.result.data)}).catch(function(t){console.log("err")})},getShareRankList:function(){var t=this;(function(t){return Object(s.a)({url:"/epubs/shareRank",method:"post",data:t})})({size:6}).then(function(e){"200000"==e.status&&(t.shareRankList=e.result.data)}).catch(function(t){console.log("err")})},getDetails:function(t){this.getBookList=this.bookLists[t],this.dialogDetail=!0,this.getShareRankList()},handleCurrentChange:function(t){this.param.pagenum=t,this.getBookLists()},searchBook:function(){if(""==this.param.searchContent.trim())return!1;this.param.pagenum=1,this.getBookLists()},shareBook:function(t){this.getBookList=this.latestShareList[t],this.dialogVisible=!0}}},o=(a("pgDg"),a("fkku"),a("KHd+")),r=Object(o.a)(n,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"literature-box"},[s("el-container",[s("el-main",[s("el-row",t._l(t.bookLists,function(e,a){return s("el-col",{key:a,attrs:{span:6}},[s("div",{staticClass:"book-col"},[s("div",{staticClass:"div-img"},[s("img",{attrs:{src:e.img,alt:""}})]),t._v(" "),s("div",{staticClass:"book-name",attrs:{title:e.title}},[t._v(t._s(e.title))]),t._v(" "),s("div",{staticClass:"bookbtn"},[s("span",{on:{click:function(e){t.getDetails(a)}}},[t._v("详情")]),t._v(" "),s("span",{on:{click:function(e){if(e.target!==e.currentTarget)return null;t.getBook(a)}}},[t._v("阅读")])])])])})),t._v(" "),s("el-row",{staticClass:"fen-page"},[s("el-col",{attrs:{span:24}},[s("div",[s("el-pagination",{attrs:{background:"",layout:"prev, pager, next","current-page":t.currentPage,"page-size":t.param.pagesize,total:t.total},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e}}})],1)])],1),t._v(" "),s("el-dialog",{attrs:{title:"资源详情",visible:t.dialogDetail,width:"30%"},on:{"update:visible":function(e){t.dialogDetail=e}}},[s("div",{staticClass:"dialogdetail-box"},[s("div",[s("img",{attrs:{src:t.getBookList.img,alt:""}})]),t._v(" "),s("div",[s("div",{staticClass:"title"},[t._v("标题："),s("span",[t._v(t._s(t.getBookList.title))])]),t._v(" "),s("div",{staticClass:"introduce"},[s("div",[t._v(" 简介：")]),t._v(" "),s("div",[t._v(t._s(t.getBookList.introduce))])]),t._v(" "),s("div",{staticClass:"upload-time"},[t._v("上传时间:"+t._s(t._f("dateToFormatter")(t.getBookList.uploadtime)))])])])]),t._v(" "),s("el-dialog",{attrs:{title:"资源分享",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[s("div",{staticClass:"dialog-box"},[s("img",{attrs:{src:"/static/bdwp.jpg",alt:""}}),t._v(" "),s("div",[t._v("分享链接：\n             "),s("a",{attrs:{href:t.getBookList.link,target:"_blank"}},[t._v(t._s(t.getBookList.link))])]),t._v(" "),s("div",[t._v("分享密码："+t._s(t.getBookList.password))])])])],1),t._v(" "),s("el-aside",{staticClass:"aside-container"},[s("div",[s("el-input",{attrs:{placeholder:"请输入关键词",clearable:"",size:"small"},model:{value:t.param.searchContent,callback:function(e){t.$set(t.param,"searchContent",e)},expression:"param.searchContent"}},[s("el-button",{attrs:{slot:"append",icon:"el-icon-search",size:"small"},on:{click:t.searchBook},slot:"append"})],1)],1),t._v(" "),s("div",{staticClass:"latest-share"},[s("h3",[t._v("最新分享榜")]),t._v(" "),t._l(t.latestShareList,function(e,a){return s("div",{key:a,on:{click:function(e){t.shareBook(a)}}},[t._v("\n                "+t._s(t._f("dateToFormatter")(e.uploadtime))+" | "+t._s(e.title))])})],2),t._v(" "),s("div",{staticClass:"latest-share"},[s("h3",[t._v("最新排行榜")]),t._v(" "),t._l(t.shareRankList,function(e,a){return s("div",{key:a,on:{click:function(e){t.shareBook(a)}}},[t._v("\n                "+t._s(t._f("dateToFormatter")(e.uploadtime))+" | "+t._s(e.title))])})],2),t._v(" "),s("div",{staticClass:"appreciate"},[s("img",{attrs:{src:a("fhkZ"),alt:""}}),t._v(" "),s("span",[t._v("打赏1块钱，帮我买杯咖啡！")])])])],1)],1)},[],!1,null,"ae277bbe",null);r.options.__file="readList.vue";e.default=r.exports},"Kgw+":function(t,e,a){},fhkZ:function(t,e,a){t.exports=a.p+"static/img/dshm.ac6ec4a.png"},fkku:function(t,e,a){"use strict";var s=a("Kgw+");a.n(s).a},pgDg:function(t,e,a){"use strict";var s=a("+684");a.n(s).a},ybcg:function(t,e,a){"use strict";a.d(e,"a",function(){return s});var s=function(t){if(!t)return"";var e=new Date(Number(t)),a=e.getFullYear(),s=e.getMonth()+1;s=i(s);var n=e.getDate();return a+"-"+s+"-"+(n=i(n))};function i(t){return t<10?"0"+t.toString():t}}}]);