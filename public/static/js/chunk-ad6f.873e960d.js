(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-ad6f"],{"0PjW":function(t,e,i){},44:function(t,e){},45:function(t,e){},NMRf:function(t,e,i){},Q7WR:function(t,e,i){"use strict";var n=i("NMRf");i.n(n).a},QdLw:function(t,e,i){"use strict";var n=i("e+N2");i.n(n).a},"R+Of":function(t,e,i){"use strict";(function(t){var n=i("r+f+"),s=i("lAsf"),o=i("ohGt");t.ePub=o.a,e.a={data:function(){return{epubRul:"",ifTitleAndMenuShow:!1,fontSizeList:[{fontSize:12},{fontSize:14},{fontSize:16},{fontSize:18},{fontSize:20},{fontSize:22},{fontSize:24}],defaultFontSize:16,themeList:[{name:"default",style:{body:{color:"#000",background:"#fff"}}},{name:"eye",style:{body:{color:"#000",background:"#ceeaba"}}},{name:"night",style:{body:{color:"#fff",background:"#000"}}},{name:"gold",style:{body:{color:"#000",background:"rgb(241,236,226)"}}}],defaultTheme:0,bookAvailable:!1,navigation:{}}},components:{TitleBar:n.a,MenuBar:s.a},mounted:function(){this.epubRul="/static/"+this.$route.query.id,this.showEpub()},methods:{showEpub:function(){var t=this,e=this.epubRul;this.book=new o.a(e),this.rendition=this.book.renderTo("read",{method:"default",width:1120,height:600}),this.rendition.display(),this.themes=this.rendition.themes,this.setFontSize(this.defaultFontSize),this.registerTheme(),this.setTheme(this.defaultTheme),this.book.ready.then(function(){return t.navigation=t.book.navigation,t.book.locations.generate()}).then(function(e){t.locations=t.book.locations,t.bookAvailable=!0})},prevPage:function(){this.rendition&&this.rendition.prev()},nextPage:function(){this.rendition&&this.rendition.next()},toggleTitleAndMenu:function(){this.ifTitleAndMenuShow=!this.ifTitleAndMenuShow,this.ifTitleAndMenuShow||this.$refs.menuBar.hideSetting()},setFontSize:function(t){this.defaultFontSize=t,this.themes&&this.themes.fontSize(t+"px")},registerTheme:function(){var t=this;this.themeList.forEach(function(e){t.themes.register(e.name,e.style)})},setTheme:function(t){this.themes.select(this.themeList[t].name),this.defaultTheme=t},onProgressChange:function(t){var e=t/100,i=e>0?this.locations.cfiFromPercentage(e):0;this.rendition.display(i)},jumpTo:function(t){this.rendition.display(t),this.hideTitleAndMenu()},hideTitleAndMenu:function(){this.ifTitleAndMenuShow=!1,this.$refs.menuBar.hideSetting(),this.$refs.menuBar.hideContent()}}}}).call(this,i("yLpj"))},"e+N2":function(t,e,i){},"e/Ee":function(t,e,i){"use strict";var n=i("0PjW");i.n(n).a},ecCT:function(t,e,i){"use strict";var n=i("vZXp");i.n(n).a},lAsf:function(t,e,i){"use strict";var n={props:{ifShowContent:Boolean,navigation:Object,bookAvailable:Boolean},data:function(){return{}},methods:{jumpTo:function(t){this.$emit("jumpTo",t)}}},s=(i("e/Ee"),i("KHd+")),o=Object(s.a)(n,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"slide-right"}},[i("div",{staticClass:"content"},[t.bookAvailable?i("div",{staticClass:"content-wrapper"},t._l(t.navigation.toc,function(e,n){return i("div",{key:n,staticClass:"content-item",on:{click:function(i){t.jumpTo(e.href)}}},[i("span",{staticClass:"text"},[t._v(t._s(e.label))])])})):i("div",{staticClass:"empty"},[t._v("加载中...")])])])},[],!1,null,"110a154c",null);o.options.__file="Content.vue";var a=o.exports,r={props:{ifTitleAndMenuShow:{type:Boolean,default:!1},fontSizeList:{type:Array},defaultFontSize:{type:Number},themeList:Array,defaultTheme:Number,bookAvailable:{type:Boolean,default:!1},navigation:Object},data:function(){return{ifShowContent:!1,showTag:0,ifSettingShow:!1,progress:0}},components:{ContentView:a},methods:{showSetting:function(t){this.showTag=t,3===this.showTag?(this.ifSettingShow=!1,this.ifShowContent=!0):this.ifSettingShow=!0},hideSetting:function(){this.ifSettingShow=!1},setFontSize:function(t){this.$emit("setFontSize",t)},setTheme:function(t){this.$emit("setTheme",t)},onProgressInput:function(t){this.progress=t,this.$refs.progress.style.backgroundSize=this.progress+"% 100%"},onProgressChange:function(t){this.$emit("onProgressChange",t)},hideContent:function(){this.ifShowContent=!1},jumpTo:function(t){this.$emit("jumpTo",t)}}},c=(i("ecCT"),Object(s.a)(r,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"menu-bar"},[i("transition",{attrs:{name:"slide-up"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.ifTitleAndMenuShow,expression:"ifTitleAndMenuShow"}],staticClass:"menu-wrapper",class:{"hide-box-shadow":t.ifSettingShow||!t.ifTitleAndMenuShow}},[i("div",{staticClass:"icon-wrapper"},[i("span",{staticClass:"icon-menu icon",on:{click:function(e){t.showSetting(3)}}})]),t._v(" "),i("div",{staticClass:"icon-wrapper"},[i("span",{staticClass:"icon-progress icon",on:{click:function(e){t.showSetting(2)}}})]),t._v(" "),i("div",{staticClass:"icon-wrapper"},[i("span",{staticClass:"icon-bright icon",on:{click:function(e){t.showSetting(1)}}})]),t._v(" "),i("div",{staticClass:"icon-wrapper"},[i("span",{staticClass:"icon-a icon",on:{click:function(e){t.showSetting(0)}}},[t._v("A")])])])]),t._v(" "),i("transition",{attrs:{name:"slide-up"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.ifSettingShow,expression:"ifSettingShow"}],staticClass:"setting-wrapper"},[0===t.showTag?i("div",{staticClass:"setting-font-size"},[i("div",{staticClass:"preview",style:{fontSize:t.fontSizeList[0].fontSize+"px"}},[t._v("A")]),t._v(" "),i("div",{staticClass:"select"},t._l(t.fontSizeList,function(e,n){return i("div",{key:n,staticClass:"select-wrapper",on:{click:function(i){t.setFontSize(e.fontSize)}}},[i("div",{staticClass:"line"}),t._v(" "),i("div",{staticClass:"point-wrapper"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.fontSize==t.defaultFontSize,expression:"item.fontSize == defaultFontSize"}],staticClass:"point"},[i("div",{staticClass:"small-point"})])]),t._v(" "),i("div",{staticClass:"line"})])})),t._v(" "),i("div",{staticClass:"preview",style:{fontSize:t.fontSizeList[t.fontSizeList.length-1].fontSize+"px"}},[t._v("A")])]):1===t.showTag?i("div",{staticClass:"setting-theme"},t._l(t.themeList,function(e,n){return i("div",{key:n,staticClass:"setting-theme-item"},[i("div",{staticClass:"preview",class:{"no-border":"#fff"!==e.style.body.background},style:{background:e.style.body.background},on:{click:function(e){t.setTheme(n)}}}),t._v(" "),i("div",{staticClass:"text",class:{selected:n===t.defaultTheme}},[t._v(t._s(e.name))])])})):2===t.showTag?i("div",{staticClass:"setting-progress"},[i("div",{staticClass:"progress-wrapper"},[i("input",{ref:"progress",staticClass:"progress",attrs:{type:"range",max:"100",min:"0",step:"1",disabled:!t.bookAvailable},domProps:{value:t.progress},on:{change:function(e){t.onProgressChange(e.target.value)},input:function(e){t.onProgressInput(e.target.value)}}})]),t._v(" "),i("div",{staticClass:"text-wrapper"},[i("span",[t._v(t._s(t.bookAvailable?t.progress+"%":"加载中..."))])])]):t._e()])]),t._v(" "),i("content-view",{directives:[{name:"show",rawName:"v-show",value:t.ifShowContent,expression:"ifShowContent"}],attrs:{ifShowContent:t.ifShowContent,navigation:t.navigation,bookAvailable:t.bookAvailable},on:{jumpTo:t.jumpTo}}),t._v(" "),i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.ifShowContent,expression:"ifShowContent"}],staticClass:"content-mask",on:{click:t.hideContent}})])],1)},[],!1,null,"41eeaa44",null));c.options.__file="MenuBar.vue";e.a=c.exports},"r+f+":function(t,e,i){"use strict";var n={props:{ifTitleAndMenuShow:{type:Boolean,default:!1}},data:function(){return{}}},s=(i("QdLw"),i("KHd+")),o=Object(s.a)(n,function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"slide-down"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:this.ifTitleAndMenuShow,expression:"ifTitleAndMenuShow"}],staticClass:"title-wrapper"},[e("div",{staticClass:"left"},[e("span",{staticClass:"icon-arrow-left2 icon"})]),this._v(" "),e("div",{staticClass:"right"},[e("div",{staticClass:"icon-wrapper"},[e("span",{staticClass:"icon-cart icon"})]),this._v(" "),e("div",{staticClass:"icon-wrapper"},[e("span",{staticClass:"icon-user icon"})]),this._v(" "),e("div",{staticClass:"icon-wrapper"},[e("span",{staticClass:"icon-section icon"})])])])])},[],!1,null,"1c075423",null);o.options.__file="TitleBar.vue";e.a=o.exports},ryGY:function(t,e,i){"use strict";i.r(e);var n=i("R+Of").a,s=(i("Q7WR"),i("KHd+")),o=Object(s.a)(n,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ebook"},[i("div",{staticClass:"read-wrapper"},[i("div",{attrs:{id:"read"}}),t._v(" "),i("div",{staticClass:"mask"},[i("div",{staticClass:"left",on:{click:t.prevPage}},[i("div",{staticClass:"arrow disabled",attrs:{id:"prev"}},[t._v("‹")])]),t._v(" "),i("div",{staticClass:"center",on:{click:t.toggleTitleAndMenu}}),t._v(" "),i("div",{staticClass:"right",on:{click:t.nextPage}},[i("div",{staticClass:"arrow",attrs:{id:"next"}},[t._v("›")])])])]),t._v(" "),i("menu-bar",{ref:"menuBar",attrs:{ifTitleAndMenuShow:t.ifTitleAndMenuShow,fontSizeList:t.fontSizeList,defaultFontSize:t.defaultFontSize,themeList:t.themeList,defaultTheme:t.defaultTheme,bookAvailable:t.bookAvailable,navigation:t.navigation},on:{setFontSize:t.setFontSize,setTheme:t.setTheme,onProgressChange:t.onProgressChange,jumpTo:t.jumpTo}})],1)},[],!1,null,"2abdc276",null);o.options.__file="openRead.vue";e.default=o.exports},vZXp:function(t,e,i){}}]);